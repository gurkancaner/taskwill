<template name="roles">
    <div id="work-collections">
        <div class="row">
            <div class="col s12">
                <ul id="projects-collection" class="collection">
                <li class="collection-item  ">
                    <i class="mdi-hardware-security"></i>
                    <span class="collection-header">{{_ "Roles"}}</span>
                    <a href="#add-role" id ="role-add-button" class="secondary-content btn-floating modal-trigger"><i
                                        class="mdi-content-add"></i></a>
                </li>
                {{#each Roles}}
                <li class="collection-item">
                    <div class="row">
                    <div class="col s6">
                        <p class="collections-title">{{name}}</p>
                        <p class="collections-content">{{description}}</p>
                    </div>
                    <div class="col s4">
                        <div id="project-line-1"><a href="{{pathFor route ="users/role/:role" role=this._id}}">{{_ "users"}}</a> </div>
                    </div>
                    <div class="col s2">
                        <a href="#add-role" class="green-text role-edit-button secondary-content modal-trigger"><i
                                                    class="small mdi-editor-mode-edit"></i></a>
                        <a href="#delete-role" class="red-text role-delete-button secondary-content modal-trigger"><i
                                                    class="small mdi-action-delete"></i></a>
                    </div>
                    </div>
                </li>
                {{/each}}
                </ul>
            </div>
        </div>
  </div>

  <div id="add-role" class="modal">
        <div class="modal-content ">
            <h4>{{_ "Add role"}}</h4>
            <div  class="section">
              <div class="row">
                <div class="col s12 m12 l6">
                  <div class="card-panel">
                    <div class="row">
                      <form id="add-role-form" class="col s12">
                        <div class="row">
                          <div class="input-field col s12">
                            <input id="id" type="hidden" value="{{_id}}">
                            <input id="name" type="text">
                            <label class="active" for="name">{{_ "Role Name"}}</label>
                          </div>
                        </div>
                        
                        <div class="row">
                          <div class="input-field col s12">
                            <select id="permissions" multiple>
                            <option value="" disabled selected>{{_ "Select permissions for this role"}}</option>
                            {{#each Permissions}}
                            <option value="{{name}}">{{value}}</option>
                            {{/each}}
                            </select>
                            <label>{{_ "Permissions"}}</label>
                          </div>
                        </div>
                          <div class="row">
                            <div class="input-field col s12">
                              <button class="btn cyan waves-effect waves-light right modal-close" type="submit" name="action">Submit
                                <i class="mdi-content-send right"></i>
                              </button>
                            </div>
                          </div>
                      </form>
                    </div>
                  </div>
                </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Delete Confirm -->
    <div id="delete-role" class="modal">
      <div class="modal-content">
        <h4>{{_ "Delete Role"}}</h4>
        <b><span id="role-name"></span></b>
        <p>{{_ "Do you really want to delete this?"}}</p>
      </div>
      <div class="modal-footer">
        <a href="#" id="confirm-role-delete" class=" modal-action modal-close waves-effect waves-green btn-flat red-text">{{_ "Delete"}}</a>
        <a href="#" class=" modal-action modal-close waves-effect waves-green btn-flat">{{_ "Cancel"}}</a>
      </div>
    </div>
   
</template>